{% extends "base.html" %}

{% block content %}

<main class="container">
    <h1>Hi, {{ current_user.username }}!</h1>
    <form action="" method="post">
        {{ form.hidden_tag() }}
        {{ form.post.label(class_="col-sm-2 col-form-label") }}<br>
        {{ form.post(class_="form-control") }}
        <p>{{ form.submit(class_="btn btn-outline-secondary") }}</p>
        {% for error in form.post.errors %}
        <span style="color: red;">[{{ error }}]</span>
        {% endfor %}
    </form>

    {% for post in posts %}
    <div class="p-4 p-md-5 mb-4 rounded text-body-emphasis bg-body-secondary">
        <div class="col-lg-6 px-0">
            <h1 class="display-4 fst-italic" style="font-size: 30px;">{{ post.timestamp.strftime("%a %d %B %H:%M") }} {{
                post.author.username }} says: </h1>
            <p class="lead my-3" style="font-size: 20px;">{{ post.body }}</p>
            {% if current_user.id == post.author.id or current_user.username == 'admin'%}
            <a href="/delete/{{post.id}}" class="btn btn-outline-secondary">Delete</a>
            {% endif %}
            <!--      <p class="lead mb-0"><a href="#" class="text-body-emphasis fw-bold">Continue reading...</a></p>-->
        </div>
    </div>
    {% endfor %}
</main>
{% endblock %}